{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const creatOfGalleryCardTemplate = imgInfo => {\n    return `\n    <li class=\"gallery-card\">\n    <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n      <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" />\n       <ul class=\"list-gallery-card\">\n        <li class=\"item-gallery-card\">\n            <p class=\"text-gallery-card\">likes</p>\n            <p class=\"t-text-gallery-card\">${imgInfo.likes}</p>\n        </li>\n        <li class=\"item-gallery-card\">\n            <p class=\"text-gallery-card\">views</p>\n            <p class=\"t-text-gallery-card\">${imgInfo.views}</p>\n        </li>\n        <li class=\"item-gallery-card\">\n            <p class=\"text-gallery-card\">comments</p>\n            <p class=\"t-text-gallery-card\">${imgInfo.comments}</p>\n        </li>\n        <li class=\"item-gallery-card\">\n            <p class=\"text-gallery-card\">downloads</p>\n            <p class=\"t-text-gallery-card\">${imgInfo.downloads}</p>\n        </li>\n    </ul>\n    </a>\n    </li>\n  `;\n}\n","export const fetchPhotosByQuery = searchedQuery => {\n\nconst searchParams = new URLSearchParams({\n    key: '48486017-f8f4a4468403115709f2bbe90',\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n    return fetch(\n        `https://pixabay.com/api/?${searchParams}`\n    ).then(response => {\n            if (!response.ok) {\n        throw new Error(response.status); \n            }\n            return response.json();\n        });\n}","import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport { creatOfGalleryCardTemplate } from './js/render-functions';\nimport {fetchPhotosByQuery} from './js/pixabay-api';\n\n\n\nconst searchFormEl = document.querySelector('.search-form')\nconst galleryEl = document.querySelector('.gallery')\nconst spanLoader  = document.querySelector('.span')\n\n\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n    const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n\n    fetchPhotosByQuery(searchedQuery)\n        .finally(fy => {\n            searchFormEl.reset();\n            spanLoader.classList.add('loader');\n\n})\n        .then(date => {\n        spanLoader.classList.remove('loader');\n            if (date.hits.length === 0) {\n                iziToast.error({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        color: '#ef4040',\n        theme: 'dark',\n                    position: 'topRight',\n        iconUrl: './img/bi_x-octagon.svg',\n        maxWidth: 360,\n        });   \n}\n            const galleryTemplate = date.hits.map(el => creatOfGalleryCardTemplate(el)).join('');\n            galleryEl.innerHTML = galleryTemplate;\nnew SimpleLightbox('.gallery-link', { captionsData: 'alt', captionDelay: 250 }).refresh();\n        })\n        .catch(err => {\n    spanLoader.classList.remove('loader');\n    console.log(err);\n});\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit)\n"],"names":["creatOfGalleryCardTemplate","imgInfo","fetchPhotosByQuery","searchedQuery","searchParams","response","searchFormEl","galleryEl","spanLoader","onSearchFormSubmit","event","fy","date","iziToast","galleryTemplate","el","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAA6BC,GAC/B;AAAA;AAAA,oCAEyBA,EAAQ,aAAa;AAAA,sCACnBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,6CAInCA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,6CAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,ICpBjDC,EAAqBC,GAAiB,CAEnD,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEC,OAAO,MACH,4BAA4BC,CAAY,EAChD,EAAM,KAAKC,GAAY,CACX,GAAI,CAACA,EAAS,GAClB,MAAM,IAAI,MAAMA,EAAS,MAAM,EAE3B,OAAOA,EAAS,MAC5B,CAAS,CACT,ECXMC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAc,SAAS,cAAc,OAAO,EAI5CC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EACpB,MAAMP,EAAgBO,EAAM,cAAc,SAAS,WAAW,MAAM,OAEpER,EAAmBC,CAAa,EAC3B,QAAQQ,GAAM,CACXL,EAAa,MAAK,EAClBE,EAAW,UAAU,IAAI,QAAQ,CAE7C,CAAC,EACQ,KAAKI,GAAQ,CACdJ,EAAW,UAAU,OAAO,QAAQ,EAC5BI,EAAK,KAAK,SAAW,GACrBC,EAAS,MAAM,CACvB,QAAS,2EACT,MAAO,UACP,MAAO,OACK,SAAU,WACtB,QAAS,yBACT,SAAU,GAClB,CAAS,EAEG,MAAMC,EAAkBF,EAAK,KAAK,IAAIG,GAAMf,EAA2Be,CAAE,CAAC,EAAE,KAAK,EAAE,EACnFR,EAAU,UAAYO,EAClC,IAAIE,EAAe,gBAAiB,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EAAE,SAChF,CAAS,EACA,MAAMC,GAAO,CAClBT,EAAW,UAAU,OAAO,QAAQ,EACpC,QAAQ,IAAIS,CAAG,CACnB,CAAC,CACD,EAEAX,EAAa,iBAAiB,SAAUG,CAAkB"}